datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

generator client {
  provider = "prisma-client-js"
}

enum Role {
  USER
  ADMIN
}

model User {
  id                          Int            @id @default(autoincrement())
  email                       String         @unique
  name                        String?
  password                    String
  role                        Role           @default(USER)
  refreshTokens               RefreshToken[]
  passwordResetToken          String?        @map("password_reset_token")
  passwordResetTokenExpiresAt DateTime?      @map("password_reset_token_expires_at")
  deleted                     Boolean        @default(false)
}

model RefreshToken {
  id        Int      @id @default(autoincrement())
  token     String   @unique
  user      User     @relation(fields: [userId], references: [id])
  userId    Int      @map("user_id")
  expiresAt DateTime @map("expires_at")
}
